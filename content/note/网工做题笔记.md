---
title: 网工做题笔记
author: Xin Lu
date: '2023-05-13'
slug: []
categories: []
tags: []
---

### day01

十进制：127

二进制：0111，1111

十进制：128

二进制：1000，0000

十进制：191 

二进制：1011，1111

十进制：192

二进制：1100，0000

十级制：223

二级制：1101，1111

十进制：224

二进制：1110，0000

十进制：240

二进制：1111，0000

十进制：248

二进制：1111，1000

十进制：252

二进制：1111，1100

十进制：254

二进制：1111，1110

十进制：255

二进制：1111，1111



### A类地址

网络号全为0，广播地址全为1

0.0.0.0：表示所有网络

- a类地址（第一位是0）：1.0.0.0~127.255.255.254

- **10.X.X.X是私有地址**，（所谓私有地址即不能应用在互联网上，而被用在局域网络中的地址。）范围：10.0.0.0~10.255.255.255

- **127.X.X.X是保留地址**，做循环测试使用。



### B类地址

- b类地址（10）：128.0.0.0~191.255.255.254

- **172.16.0.0~172.31.255.255是私有地址。**

- **169.254.X.X是保留地址**。如果你的IP地址是自动获取IP地址，而你在网络上有没有找到可用的DHCP服务器，就会得到其中一个IP地址。



### C类地址

- c类地址(110)：192.0.0.0~223.255.255.254
- **192.168.X.X是私有地址**，其范围：192.168.0.0~192.168.255.255



### D类地址

- 组播地址：224.0.0.0~239.255.255.255
- 224.0.0.1：表示所有主机地址(包括所有路由器地址)
- 225.0.0.5：表示所有OSPF路由器地址
- 224.0.0.0~224.0.0.255：归路由协议使用
- 224.0.1.0~224.0.1.255：表示公网组播地址

- 用户可用的组播地址：224.0.2.0~238.255.255.255
- 本地管理组地址：239.0.0.0~239.255.255.255



### day02



- 掉电后信息不会丢失，属于非易失性存储器
  - 如只读存储器（ROM:内容在写入后无法修改）、快闪存储器（Flash Memory：可修改）和硬盘等
- 易失性存储器
  - 存储器（RAM）和部分缓存存储器

```
例1：将0.125换算为二进制
得出结果：将0.125换算为二进制（0.001）2
分析：第一步，将0.125乘以2，得0.25,则整数部分为0,小数部分为0.25;
第二步, 将小数部分0.25乘以2,得0.5,则整数部分为0,小数部分为0.5;
第三步, 将小数部分0.5乘以2,得1.0,则整数部分为1,小数部分为0.0;
第四步,读数,从第一位读起,读到最后一位,即为0.001。
```

-多模光纤中，由于光线在纤芯内随意反射和折射，因此会发生色散现象，导致信号失真。为了解决这个问题，在长距离高速数据传输中，一般采用单模光纤来传输信号，该纤芯直径非常小，只能容纳一个光波模式，避免了信号失真的问题。



```
在计算机中，数字信号可以使用多种编码方式进行传输。其中，常用的一种是将数字信号转换为基带信号进行传输，即baseband传输（也称为基带传输）。

在base传输中，数字信号被编码成连续的电压或电流的序列，通过传输介质（如电缆、光纤等）进行传输。这些电压或电流的序列通常被称为比特流（bit stream），由多个二进制位组成，每个二进制位表示一个0或1。

常见的数字信号编码方式包括：

非归零编码（NRZ）：将二进制位0编码成低电平，将1编码成高电平。
曼彻斯特编码（Manchester）：将每个二进制位分成两个时隙，在每个时隙中分别使用不同电平表示0和1。
差分曼彻斯特编码（Differential Manchester）：类似于曼彻斯特编码，但是在每个时隙的开始时改变电平，从而使数据更容易同步。
需要注意的是，base传输方式通常只适用于短距离通信，因为一旦信号传输过程中受到干扰或信号衰减，会导致比特误码率增加，从而影响通信质量。在长距离通信中，常用的数字信号传输方式是频带传输（bandpass transmission），它需要将数字信号通过调制方式转换成模拟信号，再使用模拟信号进行传输。
```



````
解析：4B/5B编码是百兆以太网（即快速以太网）中线路层编码类型之一，就是用5bit的二进制数来表示4bit二进制数。为什么需要4B/5B编码？因为接受端要和发送端保持同步，需要电平的跳变，不能长时间保持一个电平？那可以选择（差分）曼彻斯特编码吗？可以从第12题的图中看出，编码效率只有50%，因此（差分）曼彻斯特编码常用十兆以太网，4B/5B编码用于百兆以太网，编码效率4/5=80%；8B/10B编码用于千兆以太网；万兆以太网用的是64B/66B编码；发现规律了吗?传输的速率越高，需要的效率也就越高。这题不应该错。
再说说NRZ-I，但得先说NRZ
NRZ代表的是不归零码，图见第13题，遇到1时电平翻转，遇到0时电平不翻转
NRZ-I后面多了个I，是单词invers的首字母，遇到0时电平翻转，遇1时电平不翻转

````



```
解析：4B/5B编码是百兆以太网（即快速以太网）中线路层编码类型之一，就是用5bit的二进制数来表示4bit二进制数。为什么需要4B/5B编码？因为接受端要和发送端保持同步，需要电平的跳变，不能长时间保持一个电平？那可以选择（差分）曼彻斯特编码吗？可以从第12题的图中看出，编码效率只有50%，因此（差分）曼彻斯特编码常用十兆以太网，4B/5B编码用于百兆以太网，编码效率4/5=80%；8B/10B编码用于千兆以太网；万兆以太网用的是64B/66B编码；发现规律了吗?传输的速率越高，需要的效率也就越高。这题不应该错。
再说说NRZ-I，但得先说NRZ
NRZ代表的是不归零码，图见第13题，遇到1时电平翻转，遇到0时电平不翻转
NRZ-I后面多了个I，是单词invers的首字母，遇到0时电平翻转，遇1时电平不翻转
```

```
在基带传输中，数字信号被编码成连续的电压或电流的序列，由于数字信号是以比特为单位进行传输的，因此，每秒钟发送的比特数就成为了一个重要的参数，即波特率。
因此，在基带传输中，波特率的主要作用是用来表示数字信号中每秒钟传输的比特数量，同时也是调制后的高频信号中每秒钟变化的符号数。正确设置波特率可以保证数据传输的质量和速率，也是数字通信中的一个重要参数。
```

- 每秒钟发送的比特数：即比特率（Bit rate）(指的是单位时间内传输的比特数)
- 波特率（Baud rate）指的是数字信号在通信信道上传输时，每秒钟变化的符号数，

```
其中，符号每秒钟包含的比特数表示在高频载波信号中，每个符号所携带的比特数量。根据调制方式不同，符号每秒钟包含的比特数也不同。例如，对于二进制振幅调制（ASK），每个符号只会有一个比特，因此符号每秒钟包含的比特数等于1；而对于QPSK调制，每个符号可以表示2个比特，因此符号每秒钟包含的比特数等于2。

以QPSK调制为例，假定设置波特率为1200 Bd，每个符号包含2个比特，则比特率为：

比特率 = 1200 Bd × 2 bps = 2400 bps
```



 一个信号码元所取的有效离散值个数与码元的编码方式有关。假设一个信号码元可以取n个有效离散值，其中m 位用于有效信息，r 位用于纠错码，则其取值个数可以通过以下公式计算：
$$
2^m * 2^n =2 ^{m+n} 
$$
如，对于十进制数字 1234，如果使用二进制编码，则需要至少采用12位二进制码元来表示该数字。假设采用汉明码（Hamming code）进行编码，其中使用8位二进制码元表示有效信息，剩余4位二进制码元用于表示纠错码。则一个码元可以取
$$
 2 ^{8+4} = 2^{12} = 4096
$$

```
传输速率 = 比特率 × 信道编码效率

基带信号的编码方式及其效率：

非归零编码（NRZ）：将 0 和 1 对应为不同电平，直接将数字信号转换为电平信号进行传输，编码效率为1。

归零编码（RZ）：将 0 和 1 对应为正负电平，同时在每个比特周期的中间处将电平置为 0。采用这种方式进行编码，可以避免长时间未出现电平变化而导致的同步失效问题，但编码效率较低，为0.5。

曼彻斯特编码：将每个比特分为两个时隙，分别对应高电平和低电平。在每个时隙内，电平会发生一次变化，从而形成了符号波形。由于每个比特只能携带一个符号，因此编码效率为0.5。

差分曼彻斯特编码：与曼彻斯特编码类似，但在每个时隙内，电平的变化方式与前一个符号的状态有关。如果前一个符号为 0，则电平先升后降；如果前一个符号为 1，则电平先降后升。该编码方式可以消除直流分量，同时也能够保持同步，编码效率为0.5。

每秒钟发送的比特数就成为了一个重要的参数，即波特率 （NRZ 一波特含1bit，归零编码RZ一波特含2bit，曼彻斯特编码 一波特含1bit ）差分曼彻斯特编码一波特含1bit

不同的基带信号编码方式对应的波特率是不同的。以下是常见基带信号编码方式及其对应的波特率：

非归零编码（NRZ）: 波特率为码元速率，即每个码元所包含的比特数乘以基带信号的调制速率。例如，若每个码元包含一个比特且调制速率为 10 Mbps，则波特率为 10 Mbps。

归零编码（RZ）：波特率为码元速率的一半。因为RZ编码方案中每个比特转化为两个符号，需要传输2倍的信号符号来传输每个位。例如，若每个码元包含一个比特且调制速率为 10 Mbps，则波特率为 5 Mbps。

曼彻斯特编码：波特率等于基带信号的调制速率。因为曼彻斯特编码将每个比特分成两个时隙，所以每个比特可以携带的有效信息量是原比特流的一半。例如，若基带信号的调制速率为 10 Mbps，则波特率也为 10 Mbps。

差分曼彻斯特编码：波特率等于基带信号的调制速率。由于差分曼彻斯特编码方案具有与曼彻斯特编码类似的性质，因此其波特率也等于基带信号的调制速率。

其中，信道编码效率表示通过信道编码方式将原始数据转换为实际传输数据时，有效信息所占比例。例如，对于二进制编码方式，每个比特都携带有效信息，因此信道编码效率为1；而对于汉明编码方式等纠错码编码方式，则需要额外携带一些冗余信息来保证数据的可靠性，因此信道编码效率一般小于1。crc为1
```

---

**DNS记录的类型**

1. A：地址记录（Address），返回域名指向的IP地址。
2. NS：域名服务器记录（Name Server），返回保存下一级域名信息的服务器地址。 该记录只能设置为域名，不能设置为IP地址。
3. MX：邮件记录（Mail eXchange），返回接收电子邮件的服务器地址。
4. CNAME：规范名称记录（Canonical Name），返回另一个域名，即当前查询的域名是另一个域名的跳转。
5. PTR：逆向查询记录（Pointer Record），只用于从IP地址查询域名

---

### day03

- 为什么以太网物理层发送数据不采用差分曼彻斯特编码
  - 曼彻斯特编码自带时钟同步

```
差分曼彻斯特编码（Differential Manchester encoding）是一种线路编码技术，它能够在数据信号传输时提供同步信号，即在数据中包含了时钟信息，同时还可以消除直流偏置。另一方面，以太网物理层采用的是曼彻斯特编码（Manchester encoding），也是一种常见的线路编码技术，但与差分曼彻斯特编码不同，曼彻斯特编码在每个位时间内都会发生信号电平的变化，以实现时钟同步和直流均衡。

那么为什么以太网物理层不采用差分曼彻斯特编码呢？首先需要明确的是，以太网物理层采用的曼彻斯特编码可以很好地满足其设计目标，即实现高速率的数据传输、时钟同步和直流均衡。而差分曼彻斯特编码虽然在同步和直流均衡方面有一定优势，但在数据传输方面并没有曼彻斯特编码高效。此外，差分曼彻斯特编码还需要将数据编码后再进行解码，这会增加额外的复杂度和延时，不利于高速率的通信。因此，在以太网物理层设计中，曼彻斯特编码被视为一种更优的选择。
```

---

### day04

#### TCP伪首部（pseudo header）和首部

```
TCP伪首部（pseudo header），是一个虚构的首部，它不是TCP首部的一部分，而是在TCP首部之前添加的一段固定长度的数据。TCP伪首部包含了源IP地址、目的IP地址、协议类型、TCP首部长度等信息。

TCP伪首部的作用是用来计算TCP数据包的校验和（checksum）值。在TCP通信过程中，如果接收端收到了一个校验和错误的数据包，则认为该数据包损坏或者被篡改，将会丢弃该数据包。因此，在发送端，TCP首部和数据部分需要进行校验和的计算，而在这个计算过程中，需要通过TCP伪首部来提供更全面的信息，以便保证校验和的准确性。

因此，TCP伪首部是用于计算TCP数据包校验和的一个附加数据结构，其与TCP首部并不是同一个概念。TCP伪首部中包含了一些额外的信息，可以帮助保证TCP数据包的完整性和准确性，而TCP首部则是TCP数据包中必不可少的一个部分，用于描述TCP数据包的基本信息。
```

----

- #### ip数据报字段：片内偏移量ofiset

```
一个 IP 数据报总长度为 3000B，要经过一段 MTU 为 1500B 的链路，该 IP 数据
报必须经过分片才能通过该链路。该原始 IP 数据报需被分成(3)个片，若 IP 首部没有可
选字段，则最后一个片首部中 Ofiset 字段为(370)
```

---

- #### ospf（Open Shortest Path First）:链路状态路由协议，用与自制系统AS内部，每个AS内部又可以进一步划分成多个区域（Area）

```
在一个OSPF网络中，区域是一种非常重要的概念，它能够帮助提高网络的可扩展性、灵活性和管理性。

每个区域都有一个唯一的标识符AREA ID，用于区分不同的区域。其中，区域0被称为主干区域（Backbone Area），用于连接所有其他的OSPF区域，它是整个OSPF网络的基础和核心。所有的OSPF区域都必须与主干区域直接或间接相连，否则无法通过OSPF协议进行通信和路由转发。

在主干区域中，OSPF路由器可以直接交换路由信息

主干区域还负责将外部网络和其他区域的路由信息传递到各个区域中，从而实现了整个OSPF网络的路由选择
```



- 通过交换链路状态信息：LSA，改造出链路状态数据库Link State Database，LSDB），计算出最短路径树Link State Database，LSDB），从而实现ip数据包的路由选择
- 相邻的路由器之间周期性的交换链路状态信息LSA和其他协议信息，为维护邻里关系，ospf需要使用不同类型的LSA报文进行交换，包括：Hello报文    Router LSA报文、Network LSA报文、Summary LSA报文和AS Boundary Router LSA报文等。

- 在OSPF协议中，Hello报文是最基本的一种LSA报文，用于发现邻居、建立邻居关系以及确认邻居是否处于活跃状态
- 它们会周期性地向对方发送Hello报文，Hello报文中包含各自的Router ID、所处网络的IP地址、优先级等信息，用于建立邻居关系。如果连续发送3次Hello报文都不能收到对方的响应，则表示邻居关系已经断开。



- OSPF 路由器中可以配置多个路由进程

  ```
  每个OSPF路由器上只能运行一个OSPF进程
  
  在OSPF路由器中不能配置多个OSPF进程，但可以在单个OSPF进程中配置多个区域（Area）
  ```

  

---

#### DNS：域名解析系统

- 如果输入的是url：浏览器会首先进行DNS解析，将域名解析成IP地址

- 直接输入了IP地址，因此不需要进行DNS解析，而是之间进行TCP连接

```
常见的DNS记录类型：

A记录：将域名映射为IPv4地址。

AAAA记录：将域名映射为IPv6地址。

CNAME记录：将域名映射为另一个域名。

MX记录：指定邮件服务器的IP地址。

NS记录：指定该域名的授权DNS服务器地址。

PTR记录：将IP地址映射为对应的域名。本身为代理域名服务器

SOA记录：指定该域名的起始授权DNS服务器和域名管理员等信息。

SRV记录：指定提供特定服务的主机和端口号。

TXT记录：用于保存任意类型的文本信息，如SPF记录、DKIM记录等。
```



- DNS（Domain Name System）服务默认使用的端口号为53。

  ```
  - DNS客户端和服务器之间的通信都是通过UDP协议实现的，默认使用的UDP端口号为53。
  - DNS服务器还支持使用TCP协议进行通信，但在大多数情况下，UDP被广泛使用，因为它更快、更简单，并且UDP传输的数据包相对较小。
  
  在DNS通信过程中，DNS客户端向DNS服务器发送DNS请求消息，并指定用于此请求的UDP端口号。服务端收到请求消息后，将响应消息发送回客户端所指定的UDP端口号。这个UDP端口号通常是动态随机生成的，并且在通信过程中可能会发生变化。
  ```

  

- 在某些情况下，DNS服务器也可能使用非标准的端口号进行通信。

```
例如，一些企业或组织可能会在其内部网络中配置自己的DNS服务器，并使用不同的端口号，以增强安全性或控制访问权限。此外，某些恶意软件也可能会尝试使用非标准的DNS端口号，以绕过网络安全措施和监测。
```

---

#### DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）

- 自动配置网络设备IP地址、子网掩码、网关、DNS服务器等网络参数的协议
- 客户端和服务器之间的通信都是通过**UDP**协议实现的
- DHCP**服务器**通常监听端口号67，而DHCP**客户端**则监听端口号68
- 信过程中，***客户端通过UDP的广播方式***向本地网络内的所有DHCP服务器发送请求消息，***服务器在收到请求消息后会通过单播方式***向客户端发送响应消息。

---

#### 6to4是一种IPv6过渡机制，它允许IPv6主机通过IPv4网络通信。在6to4过渡机制中，IPv6地址使用一个特殊的前缀2002::

```
例如，假设要将IPv4地址192.0.2.1转换为6to4地址，则需要按照如下方式进行：

	1. 将IPv4地址分成两部分：192.0和2.1；
	2. 在前缀2002::/16的前面添加192.0，得到2002:c000:0200::/48；
	3. 将2.1转换为16进制表示的形式0201，作为IPv6地址的后32位，得到完整的6to4地址：					2002:c000:0200:0201::1。
```


```
   6to4地址只能用于IPv6站点与IPv4站点之间的通信，不能用于IPv6站点之间的通信。另外，由于IPv4地址的限制，6to4地址空间仅具有局限性，并且在一些网络中可能会受到防火墙和安全策略的限制。
```

---

#### CSMA/CD：载波监听/冲突检测

- 载波监听
- 冲突检测
- 发性冲突停止发送
- 随机时间延迟重发



- 以太网发物理测规定：采用曼彻斯特编码方式将比特流转化为数字信号
  - 优点：
    - 自带时钟同步
    - 当总线上的电平不发生改变时，说明链路空闲
    - 当收到的电平不符合曼彻斯特的编码格式时，说明发生冲突

- 载波监听算法根据不同的介质状态分为三种：

|  载波监听算法  | 信道空闲    | 信道忙                | 特点                             |
| :------------: | ----------- | --------------------- | -------------------------------- |
| 非坚持监听算法 | 立即发送    | 等待随机时间N，再监听 | 减少冲突，但降低了信道的利用率   |
| 1-坚持监听算法 | 立即发送    | 继续监听              | 提高了信道的利用率，但增大了冲突 |
| P-坚持监听算法 | 以概率P发送 | 继续监听              | 有效平衡，但复杂                 |

#### 现代网络中交换机不采用CSMA/CD，CSMA/CD是集线器的协议

##### 现代网络中交换机采用基于MAC地址的帧转发技术

```
在现代网络中，交换机通常采用的是基于MAC地址的帧转发技术，而不是CSMA/CD（Carrier Sense Multiple Access with Collision Detection，带冲突检测的载波侦听多路访问）。

CSMA/CD是一种广泛应用于以太网中的媒体访问控制协议。在CSMA/CD协议中，所有节点共享同一个物理介质，当一个节点想要发送数据时，需要先侦听介质上是否有其他节点正在发送数据。如果存在数据冲突，则节点会停止发送数据并进行退避重传，以避免数据丢失。

然而，在交换机中，每个端口都被视为单独的、独立的信道，因此不需要使用CSMA/CD协议对介质进行访问控制。当一个数据帧到达交换机时，交换机会根据目的MAC地址将数据帧转发到正确的端口，而不会影响其他端口上的数据流量。在交换机中，数据帧在端口之间的传输并不需要进行冲突检测和退避重传，因为每个端口都有自己的发送和接收缓冲区，能够实现完全的全双工通信。

因此，基于MAC地址的帧转发技术已经取代了CSMA/CD协议，成为现代以太网中的主要数据传输方式。




在以太网网络中，CSMA/CD协议是一种媒体访问控制协议，用于控制多个节点在相同的物理介质上进行数据传输的冲突情况。当一个节点想要发送数据时，它会首先侦听介质上是否有其他节点正在发送数据。如果介质上没有其他节点正在发送数据，则该节点可以开始发送数据；否则，节点必须停止发送数据并退避一段随机时间后重新尝试发送。

集线器是一种传输数据的设备，它会将从一个端口收到的数据帧转发到所有其它端口上。因此，集线器上的所有数据流量都会共享同一个物理介质。在这种情况下，由于所有节点都要通过集线器共享同一个介质进行通信，因此需要使用CSMA/CD来控制介质访问，以避免数据冲突和争用。

但是，由于集线器无法区分目标地址，而只是一味地广播所有数据帧，因此会导致大量的冗余数据和重复传输，从而降低了网络的性能和吞吐量。随着交换式网络的兴起，集线器已经逐渐被交换机所取代，交换机采用了基于MAC地址的帧转发技术，实现了更高效的数据传输方式。
```

#### 现代网络中交换机采用基于MAC地址的帧转发技术

```
交换机是一种基于帧的网络设备，它通过识别和转发以太网帧来实现数据交换。因此，交换机必须采用以太网帧结构来处理和传输网络数据。

以太网帧是一个由若干个字段组成的数据包，它包含了源MAC地址、目标MAC地址、类型/长度字段等信息，可以携带不同协议下的数据。以太网帧结构定义了每个字段的作用和格式，以实现数据在以太网中的传输和处理。

以太帧结构：最大1518（除去前导字段8B）最小64B
前导字段	帧起始符	目的地址	源地址	  长度/类型字段	数据字段	填充字段	校验和
7bit			1			2或6		2或6    	     2        0-1500		0-46	 4
当一个数据帧到达交换机时，交换机会读取帧头中的目标MAC地址，并将数据帧转发到正确的端口，以保证数据能够被正确地传送到目标设备。交换机还可以对数据帧进行过滤、转发、重定向，实现多种网络服务和安全策略等功能。

除了以太网帧结构，交换机还可能支持其他类型的帧结构，例如FDDI（Fiber Distributed Data Interface）、ATM（Asynchronous Transfer Mode）等。但是，在现代网络中，以太网仍然是最为广泛和常用的数据链路层协议，并且大多数交换机都支持以太网帧结构。
```

#### 现代的以太网网络中的数字信号编码方案

```
在现代的以太网网络中，交换机通常不会直接采用曼彻斯特编码。相反，交换机通常会在物理层上采用一些更高级别的数字信号编码方案，例如4B/5B、8B/10B、NRZ  NRZI(编码效率最高)等。

这些编码方案可以有效地提高数据传输的效率和可靠性，并且支持更高的数据传输速率。而曼彻斯特编码则在更早期的以太网中得到了广泛应用，如10BASE-T和100BASE-TX等标准中。

需要注意的是，尽管交换机不直接采用曼彻斯特编码，但是它仍然能够识别和处理曼彻斯特编码形式的数据帧，因为这种编码方式已经成为以太网数据帧的标准格式之一。
```

#### 以太帧的最大和最小长度

```
以太帧结构：最大1518（除去前导字段8B）最小64B
前导字段	帧起始符	目的地址	源地址	  长度/类型字段	数据字段	填充字段	校验和
7bit			1			2或6		2或6    	     2        0-1500		0-46	 4
以太网是一种常用的局域网传输协议，它采用帧结构来传输数据。在以太网中，每个帧都有最大和最小长度限制。

以太网的最小帧长度为64个字节，其中包括6个字节的目的MAC地址、6个字节的源MAC地址、2个字节的帧类型/长度、46个字节的数据和4个字节的CRC校验码。如果数据部分少于46个字节，则需要通过填充等方式使其达到最小长度。最小帧长度保证了传输的可靠性和速度，并且减少了碰撞的可能性。

以太网的最大帧长度为1518个字节，其中包括6个字节的目的MAC地址、6个字节的源MAC地址、2个字节的帧类型/长度、最多1500个字节的数据和4个字节的CRC校验码。如果数据部分超过1500个字节，则需要进行分片和重组。最大帧长度限制了数据的传输范围，并保证了网络性能的稳定和可预测性。

需要注意的是，不同类型的以太网协议所规定的最大和最小帧长度可能不同，例如10BASE-T和100BASE-TX等标准中的最大帧长度为1522个字节，而10BASE5和10BASE2等早期标准则采用了更小的帧长度。
```

#### 网桥和交换机的区别

```
网桥（Bridge）和交换机（Switch）是用于局域网通信的设备，它们的主要功能都是连接多个网络设备，实现数据的转发和控制。但网桥和交换机之间也存在一些区别，如下：

工作原理不同
网桥是第二层数据链路层设备，根据MAC地址实现转发和过滤，把数据包从一个端口转发到另一个端口，从而连接多个网络设备。网桥使用的是存储-转发（Store and Forward）方式，即先接收完整帧后再进行处理和转发。

交换机也是第二层数据链路层设备，但它可以支持更多的端口和更高的数据吞吐量，并且采用了更快的转发技术，如快速转发（Cut-Through）、自适应转发（Adaptive Switching）和片段化（Fragment-Free）等方式。交换机支持存储-转发与直通式（Cut-Through）等不同转发方式。

相关技术不同
网桥主要采用的技术是STP（Spanning Tree Protocol）和RSTP（Rapid Spanning Tree Protocol），以确保无环路拓扑并提高网络的可靠性和容错性。而交换机则采用了更多的协议和技术，如VLAN（Virtual Local Area Network）、QoS（Quality of Service）和Link Aggregation等，以提高网络的性能和管理能力。

端口数目不同
网桥通常只有少量的端口，一般为2-4个，用于连接不同的网络设备。而交换机则可以支持更多的端口，从几十个到几百个不等，这使得其可以连接多个设备，并承载更大的数据流量。
```

#### 千兆以太网传输介质的传输距离

1000BASE-T标准：使用双绞线，最大传输距离100m

1000BASE-CX标准：使用屏蔽铜线，最大传输距离25m，采用STP标准

1000BASE-SX标准：使用多模光纤，最大传输距离550m

1000BASE-LX标准：使用单模光纤，最大传输距离5000m

#### 以太帧和数据链路层的数据帧有区别

```
以太帧和数据链路层的数据帧是通信中使用的两种不同类型的帧结构。

以太帧是指运用在以太网中的数据帧格式，它是一种较为常见的网络帧结构。以太帧包括同步码、目的MAC地址、源MAC地址、类型/长度、数据和CRC校验等字段。其中，同步码用于同步接收方的时钟，目的MAC地址和源MAC地址分别表示帧的发送者和接收者，类型/长度字段指示数据的类型或长度，数据字段是实际传输的数据，CRC校验则用于检测帧在传输过程中是否出现错误。

数据链路层的数据帧是指在数据链路层中传输的数据单元，在不同类型的网络协议中可能采用不同的帧结构。例如，在PPP协议中，数据链路层的数据帧由同步码、控制码、地址字段、协议字段、数据和FCS（帧校验序列）等字段组成，其中地址字段和协议字段分别标识帧的目的和类型，控制码用于控制数据链路层的操作，FCS则用于检测数据在传输过程中是否发生了变化。

因此，以太帧和数据链路层的数据帧的区别在于其字段的具体定义和应用场景。以太帧是一种特定于以太网的数据帧格式，而数据链路层的数据帧则可能被不同的网络协议所采用。
```

#### 数据链路层的数据帧交给物理层的时候，物理层还会对数据帧添加字段吗‘

```
在数据链路层将数据帧交给物理层传输时，物理层通常不会再对数据帧添加新的字段。

在数据链路层中，数据帧是由数据包加上首部和尾部的校验序列组成的。而在物理层中，数据帧被转换为电信号、光信号等物理媒介可以传输的形式，传输过程中可能需要添加物理层所需的控制信息，如同步头、起始位、停止位等，以便于物理层接收方进行正确解析和处理。

由于数据链路层和物理层的协议规范通常是相互独立的，因此物理层不需要再添加新的字段到数据帧上。如果物理层需要进行一些特殊的处理，例如差错检测和纠正，也不会对数据帧的结构进行修改，而是通过其他的机制来保证数据帧传输的可靠性和准确性。

总之，在数据链路层将数据帧交给物理层时，物理层通常不会再对数据帧添加新的字段，而是直接将数据帧转换为物理层可以传输的格式，并进行传输、接收等操作。
```

#### 数字信号编码是在那一层实现

```
数字信号编码通常是在物理层实现的。

在数字通信中，数字信号需要通过物理媒介传输。为了方便数字信号在物理媒介上传输，需要对数字信号进行编码。编码的目的是将数字信号转换为可以在物理媒介上进行传输的模拟信号或数字信号。

常见的数字信号编码方式包括：

非归零编码
非归零编码是指将二进制数字 0 和 1 映射为不同电平的模拟信号，用于表示数字信号。常见的非归零编码方式有非归零码（NRZ）、非归零-反向码（NRZI）等，这些编码方式都是在物理层实现的。

曼彻斯特编码
曼彻斯特编码是将每个比特周期性地分为两个等长的时间间隔，并将每个比特的前半部分填充为低电平，后半部分填充为高电平，或者反之。这种编码方式能够保证信号的同步和时钟恢复，因此在物理层中使用较为广泛。

差分曼彻斯特编码
差分曼彻斯特编码是在曼彻斯特编码的基础上引入了差分的概念，对每个比特的前一半和后一半的电压差取反，以解决曼彻斯特编码频谱带宽较宽的问题，同时也能提高编码效率。

综上所述，数字信号编码通常是在物理层实现的。如果不在物理层进行编码，就需要在高层协议中传输原始的数字信号，在物理媒介上进行调制和解调操作，这样会使通信系统复杂度增加，同时也会影响通信的可靠性和传输速率。
```

#### day05



```
路由器通常会有多个 IP 地址，其中有一个是网关地址，又称为默认路由。默认路由是指当一个设备需要访问网络中的其他设备时，将要发送的数据包没有在本地子网内找到目标设备时，就将数据包发送到默认路由（也就是网关地址），由它来转发。

而路由器接收到数据包后，会根据其目标 IP 地址对应的网络号进行转发，这就涉及到路由器的网络号地址。通俗点说，网络号地址是用来确定数据包应该被转发到哪个网络的，而网关地址是用来确定数据包应该被传递给哪台设备的。

总之，路由器既有网关地址，也有网络号地址。网关地址主要用于确定数据包的下一跳地址，以实现跨网络的转发；而网络号地址则用于确定数据包的路由选择路径，以确保数据包能够正确到达目标网络的主机或服务。
```

### day05

#### TCP首部的字段：

![](https://img-blog.csdnimg.cn/2019041610151879.gif)

- tcp header 的最大长度为60字节，而必须要有的固定长度也就是图一的前5层的20字节，每层占有32bit，也就是32/8=4字节，5层，5*4 = 20字节，那么第六层的可选项和填充也就是Tcp Options字段最大为60-20=40字节。填充是为了使TCP首部为4字节（32bit）的整数倍。



#### IP首部字段

![](https://img-blog.csdnimg.cn/20200224150436325.JPG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE1NTU5ODE3,size_16,color_FFFFFF,t_70))

#### ISO

![](https://img-blog.csdn.net/2018071408182610?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZW5HdWlHYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70))

#### UDP

![](https://img-blog.csdnimg.cn/20190915204452321.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ppYW9tdWJhaQ==,size_16,color_FFFFFF,t_70))

#### TCP/UDP伪首部

![](https://img-blog.csdnimg.cn/20210201181106307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjU2MDI1MA==,size_16,color_FFFFFF,t_70)

```
IP层在进行数据传输时，除了包含IP头部和数据字段外，还会添加一个伪首部（pseudo header）。

伪首部是在传输层（TCP/UDP）协议和IP层之间加入的，并不真正存在于传输层或IP层中，主要用于计算校验和。伪首部中包含源IP地址、目标IP地址、协议类型、TCP/UDP数据长度等信息，以确保数据传输的完整性和安全性。传输层在计算校验和时，会将伪首部与传输层数据一并参与计算。

伪首部的作用主要有两个：一方面是为了确保传输数据的可靠性，在数据传输过程中进行完整性校验；另一方面是为了方便路由器进行负载均衡和路由选择，提高网络的稳定性和效率。

总之，IP层在进行数据传输时会添加伪首部来帮助计算校验和，以保证数据传输的完整性和安全性。
```

---

- 在数据链路层中，主要负责管理物理层和网络层之间的通信，将IP层的数据封装到帧中，并添加帧头和帧尾进行传输。数据链路层的帧头中包含了 MAC地址、协议类型、帧长等信息，用于实现数据链路层的逻辑连接和数据传输。

```
数据链路层在进行数据传输时，会将由IP层生成的数据包，封装成帧（Frame），并在帧的首部和尾部添加一些控制信息。
。

其他的数据链路层协议中，帧头和帧尾的长度也可能不同。例如，Wi-Fi协议中的帧头和帧尾长度都是4个字节。在PPP协议中，帧头和帧尾的长度为2个字节。

在帧的首部中，数据链路层会添加以下信息：

	前导码（Preamble）：用于同步接收端和发送端时钟，以确保帧的开始位置被准确识别。

	目标MAC地址和源MAC地址：用于表示帧的目的地和来源地，以进行数据链路层之间的逻辑连接和数据传输。

	类型字段或长度字段：表示帧中数据部分的类型或长度，常见的类型有IPv4、IPv6、ARP等。

	固定字段（FCS）：用于标识帧的结束和校验帧的完整性，通常是一个循环冗余校验码（CRC）或帧校验序列（FCS），以检测帧跨越传输过程中是否出现了错误。

在帧的尾部中，数据链路层会添加以下信息：

	帧校验码（FCS）：与帧首部中的FCS一致，用于检测帧跨越传输过程中是否出现了错误。
```

#### 数据链路层的帧头帧尾分别是几个字节

```
以太网（Ethernet）是一种常见的数据链路层协议，其帧头和帧尾的长度为14个字节:
	具体来说，以太网的帧头包括6个字节的目标地址（Destination Address）、
	6个字节的源地址（Source Address）
	2个字节的类型或长度字段（Type or Length Field）。

帧尾包括4个字节的帧校验序列（Frame Check Sequence），用于检验帧中是否存在错误
```



---

TCP分段：

```
具体来说，传输层进行分段的目的主要有以下几点：

	网络大小限制：在IP层的数据报中，由于IP协议规定的最大帧长限制，如果数据包超过最大帧长，就必须进行分片。而传输层通过分段的方法，可以让数据长度适应IP层的限制(会将数据拆分成合适的大小，并加上一些必要的头部信息，形成多个段，每个段的大小都不会超过MTU所允许的长度。这样，每个分段都能够被IP层正确地处理和传输,会将数据拆分成合适的大小，并加上一些必要的头部信息，形成多个段，每个段的大小都不会超过MTU所允许的长度。这样，每个分段都能够被IP层正确地处理和传输)，同时通过一定的算法和技术，还可以提高数据传输的成功率和效率,从而提高数据传输的成功率。

	数据可靠性：传输层在进行分段时，可以根据网络情况选择不同的分段策略，如窗口控制、拥塞控制等，从而降低数据传输中的错误率和丢包率，提高数据传输的可靠性。

	数据传输效率：传输层进行分段后，可以为数据提供更好的流量控制和拥塞控制方法，使得网络资源的利用率更高，数据传输效率更高。

总之，传输层进行分段是为了适应网络大小限制、提高数据传输的可靠性和效率，在互联网数据传输中有着重要的作用
```

----

#### IP 数据报文进行加密

在网络通信中，IP数据报文的加密可以在传输层或应用层实现，取决于具体的加密协议和实现方式。

1. 在传输层实现

在传输层使用加密协议，比如Transport Layer Security（TLS）协议，可以对整个TCP数据包进行加密，包括TCP报头和数据部分。TLS协议可以在TCP连接建立阶段协商加密方式，并交换密钥和证书等信息，然后对整个TCP通信过程进行加密和解密，确保数据通信的机密性和完整性。

1. 在应用层实现

在应用层使用加密协议，比如Secure Socket Layer（SSL）协议，可以对应用层的数据进行加密，而不是对整个TCP数据包进行加密。SSL协议一般用于Web浏览器和服务器之间的安全通信，它可以在HTTP上层提供安全性保护，确保敏感信息的安全性和完整性。

对于IP层的加密，一种常见的方法是使用IPsec协议。IPsec协议位于网络层，可以提供IP数据报文的保密性、完整性和身份验证等功能。IPsec协议可以在IP层对数据报文进行加密，也可以在传输层对TCP或UDP数据进行加密。

TLS/SSL协议可以采用AES算法来对通信数据进行加密保护，确保隐私数据的安全和保密性。

---



#### IP层加密协议：

1. IPsec

IPsec（Internet Protocol Security）是一种广泛使用的IP层协议，可用于提供IP封包的机密性、完整性和身份验证等功能。它提供对称加密、非对称加密、数字签名及安全性协议等多种功能，可为互联网上运行的各种应用程序提供安全的数据通信。

1. SSL/TLS

SSL（Secure Sockets Layer）和TLS（Transport Layer Security）是一组安全传输协议，用于保护网络通信的安全性，使用了非对称加密和对称加密等技术。SSL/TLS协议广泛用于Web浏览器和服务器之间的安全通信，以确保敏感信息的安全性和完整性。

1. SSH

SSH（Secure Shell）是一种安全协议，主要用于远程登录和其他网络服务的安全操作。它使用非对称加密、对称加密和数字签名等技术，可提供加密的通信信道，以保护用户的数据和隐私。

```
在 HTTPS 协议中，HTTPS = HTTP + SSL/TLS。其中，S 代表的是 SSL / TLS 协议层。

但是需要注意的是，由于 SSL 协议的安全性存在一些问题，目前主流的浏览器和服务器已经停止对 SSL 协议进行支持，而是采用更加安全的 TLS（Transport Layer Security）协议。所以说，实际上 HTTPS 中的 S 更多地代表的是 TLS 协议层。不过，从历史上的发展来看，HTTPS 中的 S 最初确实是代表 SSL 协议层。
```

---

#### AES对称加密算法

AES算法允许使用不同的密钥长度，包括128位、192位和256位等。通常情况下，越长的密钥长度所提供的加密强度就越高，但也意味着执行加密和解密操作的时间成本更高。





----

#### DES对称加密算法

DES还是一种分组加密算法，该算法每次处理固定长度的数据段，称之为分组。DES分组的大小是64位，如果加密的数据长度不是64位的倍数，可以按照某种具体的规则来填充位。

- DES算法具体通过对明文进行一系列的排列和替换操作来将其加密

- 过程的关键就是从给定的初始密钥中得到16个子密钥的函数。要加密一组明文，每个子密钥按照顺序（1-16）以一系列的位操作施加于数据上，每个子密钥一次，一共重复16次。每一次迭代称之为一轮。
- 要对密文进行解密可以采用同样的步骤，只是子密钥是按照逆向的顺序（16-1）对密文进行处理。

---

#### 以下是一些常见的TCP/IP协议故障及其解决方法：

1. IP地址配置错误：当IP地址配置错误时，计算机将无法与网络进行通信。要解决这个问题，可以检查计算机的IP地址、子网掩码、默认网关和DNS服务器是否正确配置。
2. 网络连接中断：当网络连接中断时，计算机无法访问Internet。可以尝试重新启动计算机和网络设备，或者检查电缆连接是否正确。
3. DNS解析故障：当DNS解析故障时，计算机无法解析域名到IP地址，从而无法连接Internet。可以尝试刷新DNS缓存、更改DNS服务器地址或者禁用防火墙来解决这个问题。
4. 防火墙阻止了通信：当防火墙设置不正确时，它可能会屏蔽TCP/IP通信所需的端口和协议。要解决这个问题，可以检查防火墙设置是否正确，或者暂时关闭防火墙以进行测试。
5. MTU设置错误：当MTU（Maximum Transmission Unit）设置错误时，可能会导致数据包被分割成多个片段发送，从而影响网络通信的效率。可以尝试调整MTU值以解决这个问题。



---

```
VLAN（Virtual Local Area Network）是一种虚拟的局域网，它可以将不同的物理网段划分成多个逻辑上独立的网络。VLAN的划分方式包括以下几种：

基于端口划分（Port-Based VLAN）：这种方式是通过交换机的端口来进行VLAN的划分，每个端口只能属于一个VLAN。当数据包进入某个端口时，根据端口所属的VLAN ID标记对数据包进行处理，从而实现不同VLAN之间的隔离。

基于MAC地址划分（MAC-Based VLAN）：这种方式是依据主机的MAC地址将其划分到不同的VLAN中。交换机会将主机的MAC地址与VLAN ID建立关联，如果一个主机的MAC地址被识别为一个特定的VLAN，那么该主机就被划分到该VLAN中。

基于协议划分（Protocol-Based VLAN）：这种方式是将不同的网络协议（如IPX、TCP、UDP等）划分到不同的VLAN中。通常，这种方式应用于多协议网络环境中，以实现对不同协议流量的灵活控制。

基于子网划分（Subnet-Based VLAN）：这种方式是根据IP子网地址将主机划分到不同的VLAN中。交换机通过检查数据包的目标IP地址和掩码，来确定数据包所属的子网和相应的VLAN。

动态VLAN（Dynamic VLAN）：这种方式是将主机根据其认证信息划分到不同的VLAN中。当主机接入网络时，交换机会在认证服务器上进行身份验证，然后将该主机划分到适当的VLAN中。

```



#### 等级保护：

第三级信息系统应当**每年**至少进行一次等级测评，第四级信息系统应当每半年至少进行一次等级测评，

二级信息系统建议每两年开展一次测评，

---

#### 网络存储方式：

1. NAS（Network Attached Storage）网络附加存储：指一种将存储设备通过以太网连接到计算机网络上，提供文件级别的数据存储共享的存储解决方案。NAS设备通常提供多个硬盘插槽，可以支持RAID技术，提供数据冗余和容错能力。
2. SAN（Storage Area Network）存储区域网络：是一种特殊的高速、高可靠性、高扩展性的存储体系结构，主要用于为服务器提供块级别的数据访问服务。SAN通常由存储交换机、磁盘阵列、光纤通道等硬件组成，具有高效率、高可靠性、可扩展性好等特点，在企业级应用中得到广泛应用。
3. DAS（Direct Attached Storage）直接附加存储：是一种将存储设备直接附加到主机或服务器上的存储模式。该存储模式需要使用特殊的硬件接口将硬盘直接连接到计算机主板或扩展插槽上，具有响应速度快、数据传输稳定等特点。
4. Cloud Storage云存储：是一种将数据存储在云计算平台上的网络存储方式。用户可以通过网络上传、下载和管理数据，具有可扩展性好、跨地域数据备份能力强等特点。常用的云存储服务提供商包括AWS、Azure、Google Cloud等。

### day06

- ip数据包：
  - 标识字段：标识并不是序号，因为在IP进行无连接服务时，IP数据包不存在按序接收的问题
  - 标志：总共有三位，但只用到2位：
    - 最低位MF：MF=1表示后面还有分片的数据包片，MF=0，表示已经是若干数据包片的最后一片
    - 中间一位DF=1，表示不能分片，DF=0，才允许分片



---

ICMP：IP是一个不可靠且非连接的传输协议，为了能够更加有效的转发IP数据包和提高交付成功概率

在网络层使用网际控制报文ICMP，ICMP作为IP数据包中的**数据**，封装在IP数据包中传输

---

### day07

波特率（B）：1000Baud

比特率（R）：2000b/s

则物理层采用的调制计数为：N为码元个数（码元：物理层传输单元所含有的比特数）
$$
R = B log_{2}{N}
$$

- 常见的编码对应的码元个数：
  - QPSK：一个码元包含的比特数为2，码元种类：4（4种数字信号载波相位，即：00	01	10	11）
  - BPSK：一个码元包含的比特数为1，码元种类：2（2种数字信号载波相位，即：0	1）
  - 4B5B：一个码元包含的比特数为5，码元种类：32 （32种数字信号载波相位，前四个比特数为数据，最后一位是校验位，将四位二进制数编码为5位的码元，从而可以保证接收端时钟同步）
  - 归零编码（RZ）：一个码元包含的比特数为2，码元种类：4，（4中数字信号载波相位，即：00	01	10	11）
  - 非归零编码（NRZ）
  - 曼彻斯特编码
  - 差分曼彻斯特编码



---

#### 将数字信号转变为模拟信号的调制技术有：

- 



---

### day08

- rom：只读存储器，断电不会消失数据
  - 可用于系统初始化，如